# CSharpEssentials

CSharpEssentials is a comprehensive library that enhances C#'s functional programming capabilities. It provides a robust set of tools and utilities designed to make your C# applications more maintainable, testable, and aligned with functional programming principles.

## üåü Package Information

- **NuGet Package**: [CSharpEssentials](https://www.nuget.org/packages/CSharpEssentials)
- **GitHub Repository**: [SenRecep/CSharpEssentials](https://github.com/SenRecep/CSharpEssentials)
- **Author**: [Recep ≈ûen](https://www.nuget.org/profiles/recepsen)

## üåü Key Features

- **Functional Programming Support**: Enhanced functional programming capabilities for C#
- **Type Safety**: Strong type safety across all modules
- **Error Handling**: Comprehensive error handling with Result pattern
- **Domain-Driven Design**: Support for DDD patterns and practices
- **Performance**: Optimized for high performance with modern C# features
- **Testing**: Built with testability in mind

## üì¶ Core Modules

### Maybe Monad

[`Maybe<T>`](CSharpEssentials/Monad/Readme.MD) - Safe handling of nullable values:

```csharp
Maybe<string> someValue = Maybe.From("Hello");
Maybe<string> noValue = Maybe.None;

// LINQ support
var result = someValue
    .Select(str => str.ToUpper())
    .Where(str => str.Length > 5);
```

### Result Pattern

[`Result<T>`](CSharpEssentials/Results/Readme.MD) - Functional approach to error handling:

```csharp
public Result<User> CreateUser(UserDto dto)
{
    if (string.IsNullOrEmpty(dto.Email))
        return Error.Validation("EMAIL_REQUIRED", "Email is required");

    var user = new User(dto);
    return Result<User>.Success(user);
}
```

### Rule Engine

[`RuleEngine`](CSharpEssentials/Rules/Readme.MD) - Complex business rule management:

```csharp
public class EmailValidationRule : IRule<string>
{
    public Result Evaluate(string email, CancellationToken cancellationToken = default)
    {
        return email.Contains("@")
            ? Result.Success()
            : Error.Validation("INVALID_EMAIL", "Email must contain @");
    }
}
```

### Error Types

[`Error`](CSharpEssentials/Errors/Readme.MD) - Structured error handling:

```csharp
var error = Error.Validation(
    code: "USER_INVALID_AGE",
    description: "User age must be greater than 18"
);
```

### Discriminated Unions

[`Any<T0,T1,...>`](CSharpEssentials/Any/Readme.MD) - Type-safe union types:

```csharp
public Any<string, int> ParseOrKeepAsString(string input)
{
    return int.TryParse(input, out int number)
        ? number
        : input;
}
```

### Entity Framework Support

[`EntityBase`](CSharpEssentials/Entity/Readme.MD) - DDD-friendly entity base classes:

```csharp
public class Product : EntityBase
{
    public void UpdatePrice(decimal newPrice)
    {
        Price = newPrice;
        Raise(new PriceUpdatedEvent(newPrice));
    }
}
```

### Time Management

[`DateTimeProvider`](CSharpEssentials/Time/Readme.MD) - Testable datetime handling:

```csharp
public class OrderService
{
    private readonly IDateTimeProvider _dateTimeProvider;

    public Order CreateOrder()
    {
        return new Order { CreatedAt = _dateTimeProvider.UtcNow };
    }
}
```

### JSON Utilities

[`JSON`](CSharpEssentials/Json/Readme.MD) - Enhanced JSON capabilities:

```csharp
var options = EnhancedJsonSerializerOptions.DefaultOptions;
string json = myObject.ConvertToJson(options);
```

### Extensions

[`Extensions`](CSharpEssentials/Extensions/Readme.MD) - Useful extension methods:

```csharp
// String transformations
"helloWorld".ToPascalCase();  // => "HelloWorld"
"hello_world".ToCamelCase();  // => "helloWorld"

// Collection operations
var randomItem = list.GetRandomItem();
```

### Request Response Logging

[`RequestResponseLogging`](CSharpEssentials.RequestResponseLogging/Readme.MD) - Comprehensive HTTP traffic monitoring:

````csharp
public void Configure(IApplicationBuilder app)
{
    app.AddRequestResponseLogging(opt =>
    {
        // Configure logging options
        var loggingOptions = LoggingOptions.CreateAllFields();
        loggingOptions.HeaderKeys.Add("X-Correlation-Id");

        // Use the configured logger
        opt.UseLogger(app.Services.GetRequiredService<ILoggerFactory>(), loggingOptions);
    });
}

## üöÄ Getting Started

### Installation

```bash
dotnet add package CSharpEssentials
````

You can also install the package directly from the [NuGet Gallery](https://www.nuget.org/packages/CSharpEssentials).

### Basic Setup

Import the namespace:

```csharp
using CSharpEssentials;
```

## üìö Documentation

Each module has its own detailed documentation:

- [Maybe Monad Documentation](CSharpEssentials/Monad/Readme.MD)
- [Result Pattern Documentation](CSharpEssentials/Results/Readme.MD)
- [Rule Engine Documentation](CSharpEssentials/Rules/Readme.MD)
- [Error Types Documentation](CSharpEssentials/Errors/Readme.MD)
- [Entity Base Documentation](CSharpEssentials/Entity/Readme.MD)
- [JSON Utilities Documentation](CSharpEssentials/Json/Readme.MD)
- [Extensions Documentation](CSharpEssentials/Extensions/Readme.MD)
- [Time Management Documentation](CSharpEssentials/Time/Readme.MD)
- [Any Type Documentation](CSharpEssentials/Any/Readme.MD)
- [Request Response Logging Documentation](CSharpEssentials.RequestResponseLogging/Readme.MD)

## üîß Best Practices

1. **Error Handling**

   - Use `Result<T>` for operations that can fail
   - Prefer `Maybe<T>` over null values
   - Use structured `Error` types for domain errors

2. **Domain Modeling**

   - Extend `EntityBase` for domain entities
   - Use `RuleEngine` for complex validations
   - Implement domain events for state changes

3. **Testing**
   - Use `DateTimeProvider` for time-dependent tests
   - Mock interfaces instead of concrete implementations
   - Utilize `Result<T>` for predictable error scenarios

## ü§ù Contributing

We welcome contributions! Please see our [Contributing Guide](CONTRIBUTING.md) for details.

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üôè Acknowledgments

This library was inspired by and builds upon the work of several excellent open-source projects:

- [ErrorOr](https://github.com/amantinband/error-or) - A simple, fluent discriminated union of an error or a result
- [CSharpFunctionalExtensions](https://github.com/vkhorikov/CSharpFunctionalExtensions) - Functional extensions for C#
- [OneOf](https://github.com/mcintyre321/OneOf) - Easy to use F#-like discriminated unions for C#
- [TechBuddySolution](https://github.com/salihcantekin/TechBuddySolution) - The foundation for our Request Response Logging module

Special thanks to all contributors who have helped shape this library and to the maintainers of these inspiring projects.

## üì¨ Support

For support, please open an issue in the GitHub repository or contact the maintainers.
